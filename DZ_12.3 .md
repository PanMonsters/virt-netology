# Домашнее задание к занятию "12.3 Развертывание кластера на собственных серверах, лекция 1"

---
## Задание 1: Описать требования к кластеру
Сначала проекту необходимо определить требуемые ресурсы. Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:

* База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Кэш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий.
* Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.

### Ответ 1

 - Расчёт общей мощности
 
| Имя      | RAM   | CPU | Копии |
|----------|-------|-----|-------|
| БД       | 12000 | 3   | 3     |
| Кэш      | 12000 | 3   | 3     |
| Фронтенд | 250   | 1   | 5     |
| Бекенд   | 6000  | 10  | 10    |
| Общее    | 30250 | 17  | 21    |

 - Распределение мощностей
 
| назначение ноды | RAM   | CPU |
|-----------------|-------|-----|
| control         | 2000  | 2   |
| control         | 2000  | 2   |
| control         | 2000  | 2   |
| worker          | 17125 | 9   |
| worker          | 17125 | 9   |
| worker          | 17125 | 9   |
| Общие ресурсы   | 57375 | 33  |


В таблице "Расчёт общей мощности" я посчитал общие минимальные требования для всего приложения.  

В таблице "Распределение мощностей" я указал необходимые ресурсы для функционирующего кластера.

Есть 2 варианта либо поднимать control и worker ноды вместе, либо выделить для worker отдельные VM. Тут разница только в том кому как будет удобней.

Основная суть в том что бы добиться работоспособности кластера при отказе или обслуживании одной ноды. Поэтому кол-во RAM И CPU указано у меня с небольшим запасом для всех нод.