
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

---
## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

## Решение 1

	Основное отличие между полной и аппаратной виртуализацией — это наличие прослойки в виде операционной системы, что может с одной стороны сказаться на отказоустойчивости так как к проблемам, которые могут возникнуть с гипервизором могут добавиться проблемы, возникающие с ОС к примеру ошибки после обновления. Но с другой стороны наличие ОС дает более развернутый функционал стороннего ПО на данном сервере, что тоже дает свое преимущество в определённых моментах (пример Hyper V на ОС это наличие графического интерфейса и возможность подключения по RDP).
	Что касается виртуализации на основе ос, в отличие от двух выше упомянутых данный вид может использовать виртуализацию только на основе ядра установленной системы, а так же в виде докера может без проблем функционировать на любой виртуальной машине, что в свою очередь делает её не конкурентом а дополнением для полной и аппаратной виртуализации. В основном данный вид виртуализации предназначен для других задач о которых речь пойдет в дальнейших заданиях.


---
## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

## Решение 2

	1) Высоконагруженная база данных, чувствительная к отказу.
	Можно использовать как как физическую машину, так и пара виртуализацию, вариант с физической машиной позволяет исключить гипервизор и напрямую использовать мощности серверной аппаратной части, единственный минус более проблемное восстановление в случае выхода сервера из строя, паравиртуализация выигрывает при наличии кластеризации так как позволяет распределить нагрузку на сервер и крайне быстро вернёт ВМ к жизни при возникновении сбоев.
	2) Различные web-приложения.
	Единственны самым простым и верным способом будет использование виртуализации уровня ОС, так можно минимизировать потребление ресурсов при необходимости вносить правки, а также быстро разворачивать несколько вариантов для тестирования или востановления работоспособности сервиса.
	3) Windows системы для использования бухгалтерским отделом.
	Паравиртуализация, дает хорошие возможности для бекапов быстрого восстановления, и разгрузки запросов на сервера за счет кластеризации, чаще всего 1с с серверов и mysql БД (если это бух отдел на Windows). 
	4) Системы, выполняющие высокопроизводительные расчеты на GPU.
	С данным вариантом систем не разу не встречался, но для высокопроизводительных GPU расчетов логичнее использовать физические сервера, так как выделенные мощности будут использоваться на прямую через гостевую ОС, без вмешательства и оптимизации гипервизором, что должно положительно сказаться на производительности.


---
## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

## Решение 3

	1) Мой выбор был бы склонен к Hyper v, он прост в использовании работает с Windows и Linux, в задании указано что машины Windows в приоритете. Требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий – все указанные функции поддерживаются данным гипервизором и требуют лишь купленной серверной ОС Windows а так же  просты в настройке.
	2) В данном случае выбор пал на KVM, так как это бесплатное open source решение которое имеет все необходимые функции для обеспечения бесперебойной работы 20-30 серверов на Windows и Linux
	3) Для работы с парком Windows удобнее всего использовать Hyper v
	4) Связка Virtual box + Vagrant для быстрого поднятия множества тестовых VM


---
## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

## Решение 4

	Гетерогенные виртуальные среды непосредственно сложны в больших масштабах, иметь несколько виртуальных машин выполняющих не самые важные функции на другом гипервизоре не является большей проблемой. Вот наличие двух разных гипервизоров в среде с более 100 виртуальных машин могут повлечь большие проблемы по администрированию. Хотя есть все возможные конвенторы для виртуальных машин и можно перенести инфраструктуру в один визор, это займет много времени и автоматизация таких процессов обычно не предусмотрена.

